(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/visit"],{"330a":function(t,e,n){"use strict";n.r(e);var a=n("f72d"),i=n("3f57");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("3a96");var u,s=n("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],u);e["default"]=c.exports},"3a96":function(t,e,n){"use strict";var a=n("c37f"),i=n.n(a);i.a},"3f57":function(t,e,n){"use strict";n.r(e);var a=n("d360"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"57ee":function(t,e,n){"use strict";(function(t){n("16f4"),n("921b");a(n("66fd"));var e=a(n("330a"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},c37f:function(t,e,n){},d360:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{time:"2020-03-28",number:0,com:"",butt:"",phone:-1,num:-1,station:-1,purpose:"",area:[],areaIndex:0,area_id:{},ImgUrl:this.ImgUrl,start:""}},methods:{getArea:function(){var e=this.WebUrl,n=this;t.request({url:e+"/getArea",success:function(t){t.data.data.forEach((function(t){n.area.push(t.dict_name),n.area_id[t.dict_name]=t.dict_id}))}})},getToday:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,a=t.getDate();n<10&&(n="0"+n),a<10&&(a="0"+a),this.time=e+"-"+n+"-"+a,this.start=e+"-"+n+"-"+a},changeTime:function(t){this.time=t.target.value},areachange:function(t){this.areaIndex=t.target.value},comValue:function(t){this.com=t.target.value},buttValue:function(t){this.butt=t.target.value},phoneValue:function(t){this.phone=t.target.value},numValue:function(t){this.num=t.target.value},stationValue:function(t){this.station=t.target.value},purposeValue:function(t){this.purpose=t.target.text},visit:function(){var e=this.WebUrl,n=this,a=this.area_id[this.area[this.areaIndex]];""===this.com?t.showModal({title:"提示",content:"请输入单位名称",showCancel:!1}):""===this.butt?t.showModal({title:"提示",content:"请输入对接人名字",showCancel:!1}):/^1[3456789]\d{9}$/.test(this.phone)?this.num<=0?t.showModal({title:"提示",content:"请输入参观人数",showCancel:!1}):this.station<=0?t.showModal({title:"提示",content:"请输入工作需求",showCancel:!1}):""===this.purpose?t.showModal({title:"提示",content:"请输入来访目的",showCancel:!1}):t.getStorage({key:"u_id",success:function(i){var o=i.data;t.request({url:e+"/addVisit",method:"POST",data:{area_id:a,u_id:o,visit_time:n.time,com_name:n.com,butt_joint:n.butt,phone:n.phone,num:n.num,station:n.station,purpose:n.purpose},success:function(e){t.showModal({title:"提示",content:e.data.msg,showCancel:!1,success:function(n){n.confirm&&"请求成功!"===e.data.msg&&t.navigateBack({delta:1})}})}})}}):t.showModal({title:"提示",content:"手机号码有误，请重新输入",showCancel:!1})}},onLoad:function(){this.getArea(),this.getToday()}};e.default=n}).call(this,n("543d")["default"])},f72d:function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))}},[["57ee","common/runtime","common/vendor"]]]);